language: python
python: '3.7'
dist: bionic
before_install: pip3 install --upgrade pip && pip3 install -r requirements/dev.txt
install:
- pip3 install .
- pip3 install codecov
script: pytest --cov-report=xml --cov=onepassword_local_search
deploy:
  skip_cleanup: true
  provider: pypi
  user: mickaelperrin
  distributions: bdist bdist_wheel
  password:
    secure: UYY9211L+blFObn3Zn9O7yxQgj/xzBPTixE+uAfCMNBFFO1njiZcxz/pIbltJfrO8UHHwKnNmwZKFR75cAYh6SAebtCLYPwFj28ERiKBMcAsbb1reEbSP1wfN+/+c7/W9/lXB8pb9YhSaMmrek2iatk3FEzXo7ZJmulXXZ11cYCz2npD15TGeGK9rmwOophdfzDkCbTB/v9ansCbvjWZ6z+wjBsGhy7dtquXHGMxL3zlLl9jtfAsOovi+qQDW80anNLv3QcRDhNQwYVD+yJbx7tYKufTvFWASiMmBJceWWUvf6f1/biiVYJ+J6mL6S4/8iB5XIltiIX7GFCH4nKts/s5dMOIi5TO/Q0q7U6yaEybp1xwObJ6ENJiQ9NDMfVrERc0M83ypHXKRTlmJ7aSplyhwGkLgmH23IOIOm2ojup1Db/1PocJ1f702wANuKKT520BTMl0BkbSr5JHmFWbKpP88bK6acmdndLm31eezG0hEAfSzL4mTzgxjHROJ5SsJAgcsuV1fsfyrr+yLZ0sFUI3C3AABNG1sthHeFNmtwpRK86MGOsyGcPogxmDN7RhpmrnTtL5zwgZITZxmJzt+z8Z8RLt3jGaPce2iQwig4+DYLWrxmPFxn2AwMPjAxJokzznUD0IIn/CtsvmZ41YQF6lU6DiywTHOwfy17m4VwM=
  skip_existing: true
  on:
    branch: master
    tags: true
after_success:
- codecov
notifications:
  pushover:
    api_key:
      secure: MxHqPbWC+MGyYottxyd81DLVo5lgPu4iq+NNY1BMjQK0drDLxOrR49yRyttYL2zGuM97adx9YGBalLexVh3nZbeXANpY3jF2juwCb5+9skCJQjWFDl8YjUme5GSsGO6fwp+SpJ5SOjqdmSSi+jWmp6HPNf2Xdr3btPMJYsWv99uP/oC4nZqs2G/01s8SqctuwqVSJ+zf8Xmb5zIXUiQJGMTR9xV1KrIas1g7TpjTgcW0i1hML0xrnCMaKlixmF2mxd6BmUGRwzMDhXR9sd1BCi2YkhzrBExhFIWEz6q3H/PSECoy22HiJOP0JuHN+aoOeKBGQ2mvmujLIohTd9ovERWlle6p56EOqxjAXMU08H/Mvp6aRQQ2YO/5Bs/E6IRdvZf/G//cwfuIkLUm4wiQJ2uVFEDqbEu/kuT6+GYLEC16jO92OtWhG3+tqh0Oy6DqMQX1uAFIqiwafsihb78thUNq25NLfFLXhSgpWcfb0mlN7JuljVehh/Z9PPLjxXGC15AIQ5s5SDktKypkMzBwPmlyIPh7Bs8hXlfCIHu4JpMJPKOlQ3+hDWEmWK0IwdY/U9IlYkk1/DIamZLRJF3YLXLHT/zUa12Z6zWomtrZI331gsHIKBCOVWjmppsblmIfoISMKRg8e7NZEWmqQcVkn+EyR4db8sviohKySLXgKpE=
    users:
      secure: pRgtACCOHw2KjLYJN6FHboWNlGNOzCQ7x6aVNZxkUpPZAAGdjx+1j/fw09A7QzDWvJeyQ8CkHrdn+nemMhSsIQqrKDJFJefjtyrhrndWJNXtBxM81de9tiUoYg7uGtelDMB4iIJGUkDeC4LNqYap+KhZDvuYbwAkmMY8JoQ4hd31XbtbMEEh4hXpdK+0fLAytSAUaYs/Fq8nMaLCaZnf1aTPzOpHcyu3QhdDVUtNyv1edlNrEZk82EgA7sfkuYSrr7m8cBySKJ32x4jJr7or1scUhNfrj9sbP44lFGxR+B1QaSqNFe/XJJKmwFD+VsrMniIrBQLDAvKBK3DUlpUWs6pMJDQb7RgDWcTNKnrbEc9LpF+h3F3E2ABmigMOgwv4+lzDMZR8DNA65E0R7EtNu62+AZOYsZptTfR0hykvFtLphZKLKKazpI7dBPBaHiJO/Ipf/z0HGI6fL6wWISfrUUulWMOp6uHNMNmWXErN+QAcR7bSYF1ewlMV7g3K2c86bvCoYmYyy45E+c+CPqD4bN7KZC7r0EqExOHH5l0EKplCzUZVmH0AATCjmU0SbBj+16qyBWaGe61jq/ojD0dUb2P14e5p1lqi0/DKynXaXl7gWO+GnuwkaFlOKC0BRewK1o2m3TPT6k3xJo8i8iecgNCSemwjJeizfcfBeK0xltM=
